<section class="game-container">
  <app-title-star-wars-battle class="title"></app-title-star-wars-battle>
  <ng-container *ngIf="player1Resource && player2Resource; else loading">
    <div class="cards-container">
      <div class="card-container">
        <h3>Player 1</h3>
        <app-card
          [resource]="player1Resource"
          [highlightedSpecs]="highlightedCardSpecs.resource1"
          data-cy="card-player1"
        />
      </div>

      <div>
        <div class="score-container" *ngIf="(score$ | async) as score" data-cy="score-txt">
          {{ score.player1 }} : {{ score.player2 }}
        </div>
        <app-battle-result
          [player1Resource]="player1Resource"
          [player2Resource]="player2Resource"
          data-cy="battle-result-txt"
        ></app-battle-result>
      </div>

      <div class="card-container">
        <h3>Player 2</h3>
        <app-card
          [resource]="player2Resource"
          [highlightedSpecs]="highlightedCardSpecs.resource2"
          data-cy="card-player2"
        />
      </div>
    </div>

    <div class="buttons-container">
      <button mat-raised-button (click)="playAgain()" data-cy="play-again-button">Play again</button>
      <a mat-raised-button routerLink="/" data-cy="change-resource-button">Change resource</a>
    </div>
  </ng-container>

  <ng-template #loading>
    <app-loading></app-loading>
  </ng-template>
</section>
